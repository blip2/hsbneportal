{% extends 'base.html' %}

{% block page_title %}Add Slot{% endblock %}

{% block content %}

    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-6 col-md-offset-3">
          <form action="{% url 'signups.add-slot' signup.id %}" method="post" class="form-horizontal" role="form">
          {% csrf_token %}
            <fieldset>
              <legend><span class="col-sm-offset-1">Add Slot</span></legend>
            {% for field in form %}
                {% include 'snippets/form_field.html' %}
            {% endfor %}
            <div class="form-group">
              <button type="submit" id="check-go" class="btn btn-success pull-right">Create Â»</button>
            </div>
            </fieldset>
        </form>
        </div>
      </div>
    </div>

{% endblock %}

{% block js %}
<script type="text/javascript">
  $(function () {
      $('#id_start').datetimepicker({
          format: 'YYYY-MM-DD HH:mm',
          sideBySide: true
      });
      $('#id_end').datetimepicker({
          useCurrent: false,
          format: 'YYYY-MM-DD HH:mm',
          sideBySide: true
      });
      $("#id_start").on("dp.change", function (e) {
          $('#id_end').data("DateTimePicker").date(e.date);
      });
{% if latest %}
      $('#id_location').val("{{ latest.location }}");
      $('#id_start').data("DateTimePicker").date("{{ latest.start|date:"Y-m-d H:i" }}");
      $('#id_end').data("DateTimePicker").date("{{ latest.end|date:"Y-m-d H:i" }}");
      $('#id_places').val("{{ latest.places }}");
{% endif %}
  });
</script>
{% endblock js %}
